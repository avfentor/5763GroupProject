<!DOCTYPE HTML><html><head><meta charset="UTF-8"></meta><link rel="stylesheet" href="./log.css"></link><script type="text/javascript" src="http://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js" charset="UTF-8"></script><style rel="stylesheet">.sasError {color: red;}.sasMessage{color:#000000;}.sasWarning{color:green;}.sasSource{color:#000000;}.sasNote {color:blue;}</style><title>Log:Program 1</title></head><body class='sasLog'><pre class='sasLog' id='pre_sasLog_23' style='background-color:transparent; -webkit-user-select: text; -webkit-user-modify: read-only;-webkit-touch-callout: default;border-top-width: 0px;border-bottom-width: 0px'><div class="sasSource"> </div><div class="sasSource"> 1          OPTIONS NONOTES NOSTIMER NOSOURCE NOSYNTAXCHECK;</div><div class="sasSource"> 72         </div><div class="sasSource"> 73         %macro regBoot(NumberOfLoops, DataSet, XVariable, YVariable);</div><div class="sasSource"> 74         </div><div class="sasSource"> 75         %let _timer_start = %sysfunc(datetime());</div><div class="sasSource"> 76         </div><div class="sasSource"> 77         /*Generate all bootstrap samples*/</div><div class="sasSource"> 78         proc surveyselect data=&amp;DataSet out=bootData(rename=(Replicate=SampleNo)) seed=-23434 method=urs noprint samprate=1</div><div class="sasSource"> 78       ! reps=&amp;NumberOfLoops;</div><div class="sasSource"> 79         run;</div><div class="sasSource"> 80         </div><div class="sasSource"> 81         /*Conduct a regression on each randomised dataset and get parameter estimates*/</div><div class="sasSource"> 82         proc reg data=bootData outest=ParameterEstimates  noprint;</div><div class="sasSource"> 83         by SampleNo;</div><div class="sasSource"> 84         freq NumberHits;</div><div class="sasSource"> 85         Model &amp;YVariable=&amp;XVariable;</div><div class="sasSource"> 86         run;</div><div class="sasSource"> 87         quit;</div><div class="sasSource"> 88         </div><div class="sasSource"> 89         /*Extract just the columns for slope and intercept for storage*/</div><div class="sasSource"> 90         data ResultHolder;</div><div class="sasSource"> 91         set ParameterEstimates;</div><div class="sasSource"> 92         keep Intercept &amp;XVariable;</div><div class="sasSource"> 93         rename Intercept=RandomIntercept &amp;XVariable=RandomSlope;</div><div class="sasSource"> 94         run;</div><div class="sasSource"> 95         </div><div class="sasSource"> 96         data _null_;</div><div class="sasSource"> 97           dur = datetime() - &amp;_timer_start;</div><div class="sasSource"> 98           put 30*'-' / ' TOTAL DURATION:' dur time13.2 / 30*'-';</div><div class="sasSource"> 99         run;</div><div class="sasSource"> 100        </div><div class="sasSource"> 101        %mend;</div><div class="sasSource"> 102        </div><div class="sasSource"> 103        options nonotes;</div><div class="sasSource"> 104        </div><div class="sasSource"> 105        /*Run the macro*/</div><div class="sasSource"> 106        %regBoot(NumberOfLoops=100, DataSet=work.fitness, XVariable=age, YVariable=oxygen);</div><div class="sasSource"> ------------------------------</div><div class="sasSource">  TOTAL DURATION:   0:00:00.03</div><div class="sasSource"> ------------------------------</div><div class="sasSource"> 107        </div><div class="sasSource"> 108        </div><div class="sasSource"> 109        </div><div class="sasSource"> 110        OPTIONS NONOTES NOSTIMER NOSOURCE NOSYNTAXCHECK;</div><div class="sasSource"> 122        </div></pre></body></html>