<!DOCTYPE HTML><html><head><meta charset="UTF-8"></meta><link rel="stylesheet" href="./log.css"></link><script type="text/javascript" src="http://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js" charset="UTF-8"></script><style rel="stylesheet">.sasError {color: red;}.sasMessage{color:#000000;}.sasWarning{color:green;}.sasSource{color:#000000;}.sasNote {color:blue;}</style><title>Log:sas.boot.modified.sas</title></head><body class='sasLog'><pre class='sasLog' id='pre_sasLog_25' style='background-color:transparent; -webkit-user-select: text; -webkit-user-modify: read-only;-webkit-touch-callout: default;border-top-width: 0px;border-bottom-width: 0px'><div class="sasSource"> </div><div class="sasSource"> 1          OPTIONS NONOTES NOSTIMER NOSOURCE NOSYNTAXCHECK;</div><div class="sasNote" id="sasLogNote1_1571265741782"> NOTE: ODS statements in the SAS Studio environment may disable some output features.</div><div class="sasSource"> 73         </div><div class="sasSource"> 74         %macro regBoot(NumberOfLoops, DataSet, XVariable, YVariable);</div><div class="sasSource"> 75         </div><div class="sasSource"> 76         %let _timer_start = %sysfunc(datetime());</div><div class="sasSource"> 77         </div><div class="sasSource"> 78         /*Generate all bootstrap samples*/</div><div class="sasSource"> 79         proc surveyselect data=&amp;DataSet out=bootData(rename=(Replicate=SampleNo)) seed=-23434 method=urs noprint samprate=1</div><div class="sasSource"> 79       ! reps=&amp;NumberOfLoops;</div><div class="sasSource"> 80         run;</div><div class="sasSource"> 81         </div><div class="sasSource"> 82         /*Conduct a regression on each randomised dataset and get parameter estimates*/</div><div class="sasSource"> 83         proc reg data=bootData outest=ParameterEstimates  noprint;</div><div class="sasSource"> 84         by SampleNo;</div><div class="sasSource"> 85         freq NumberHits;</div><div class="sasSource"> 86         Model &amp;YVariable=&amp;XVariable;</div><div class="sasSource"> 87         run;</div><div class="sasSource"> 88         quit;</div><div class="sasSource"> 89         </div><div class="sasSource"> 90         /*Extract just the columns for slope and intercept for storage*/</div><div class="sasSource"> 91         data ResultHolder;</div><div class="sasSource"> 92         set ParameterEstimates;</div><div class="sasSource"> 93         keep Intercept &amp;XVariable;</div><div class="sasSource"> 94         rename Intercept=RandomIntercept &amp;XVariable=RandomSlope;</div><div class="sasSource"> 95         run;</div><div class="sasSource"> 96         </div><div class="sasSource"> 97         /*generate rtf file with required output*/</div><div class="sasSource"> 98         /*mean estimates &amp; 95%confint*/</div><div class="sasSource"> 99         ods rtf file="/folders/myfolders/output.rtf";</div><div class="sasSource"> 100        ods select BasicIntervals;</div><div class="sasSource"> 101        title "Analysis of Variables";</div><div class="sasSource"> 102        proc univariate data=resultholder cibasic;</div><div class="sasSource"> 103        var randomintercept randomslope;</div><div class="sasSource"> 104        run;</div><div class="sasSource"> 105        </div><div class="sasSource"> 106        /*plot distribution*/</div><div class="sasSource"> 107        ods graphics / reset width=6.4in height=4.8in imagemap;</div><div class="sasSource"> 108        title "Bootstrap Distribution of Y Variable";</div><div class="sasSource"> 109        proc sgplot data=WORK.RESULTHOLDER;</div><div class="sasSource"> 110        histogram RandomIntercept / fillattrs=(color=CX177fce transparency=0.5);</div><div class="sasSource"> 111        density RandomIntercept;</div><div class="sasSource"> 112        xaxis label= "Y Variable";</div><div class="sasSource"> 113        yaxis grid;</div><div class="sasSource"> 114        run;</div><div class="sasSource"> 115        </div><div class="sasSource"> 116        ods graphics / reset;</div><div class="sasSource"> 117        </div><div class="sasSource"> 118        ods graphics / reset width=6.4in height=4.8in imagemap;</div><div class="sasSource"> 119        title "Bootstrap Distribution of X Variable";</div><div class="sasSource"> 120        proc sgplot data=WORK.RESULTHOLDER;</div><div class="sasSource"> 121        histogram RandomSlope / fillattrs=(color=CXbd3de4 transparency=0.5);</div><div class="sasSource"> 122        density RandomSlope;</div><div class="sasSource"> 123        xaxis label= "X Variable";</div><div class="sasSource"> 124        yaxis grid;</div><div class="sasSource"> 125        run;</div><div class="sasSource"> 126        </div><div class="sasSource"> 127        ods graphics / reset;</div><div class="sasSource"> 128        </div><div class="sasSource"> 129        ods rtf close;</div><div class="sasSource"> 130        </div><div class="sasSource"> 131        data _null_;</div><div class="sasSource"> 132          dur = datetime() - &amp;_timer_start;</div><div class="sasSource"> 133          put 30*'-' / ' TOTAL DURATION:' dur time13.2 / 30*'-';</div><div class="sasSource"> 134        run;</div><div class="sasSource"> 135        </div><div class="sasSource"> 136        %mend;</div><div class="sasSource"> 137        </div><div class="sasSource"> 138        options nonotes;</div><div class="sasSource"> 139        </div><div class="sasSource"> 140        /*Run the macro*/</div><div class="sasSource"> 141        %regBoot(NumberOfLoops=100, DataSet=work.fitness, XVariable=age, YVariable=oxygen);</div><div class="sasSource"> ------------------------------</div><div class="sasSource">  TOTAL DURATION:   0:00:01.60</div><div class="sasSource"> ------------------------------</div><div class="sasSource"> 142        </div><div class="sasSource"> 143        </div><div class="sasSource"> 144        </div><div class="sasSource"> 145        OPTIONS NONOTES NOSTIMER NOSOURCE NOSYNTAXCHECK;</div><div class="sasSource"> 157        </div></pre></body></html>